import{r as e,j as a}from"./index-aeda1e87.js";import{C as L,a as re}from"./axios-057734f1.js";import{u as se,S as A,P as ae,b as oe,I as ne}from"./Pagination-637f931d.js";import{S as ie}from"./index-c463ec7e.js";import{l as le,q as ce,r as de,k as ge,C as H,e as P,R as me,y as pe}from"./useFlexGapSupport-69780201.js";import{r as fe}from"./responsiveObserver-953ba023.js";import{P as he}from"./index-d904ea6a.js";import{k as ue}from"./EditOutlined-3f21ada2.js";import{T as xe}from"./index-71b34ec2.js";import{R as Se}from"./row-da0b9f45.js";import{C as ye}from"./col-bebaa28a.js";import"./PlusOutlined-74a5f9c7.js";const T=e.createContext("default"),G=t=>{let{children:i,size:o}=t;const r=e.useContext(T);return e.createElement(T.Provider,{value:o||r},i)},ve=t=>{const{antCls:i,componentCls:o,iconCls:r,avatarBg:n,avatarColor:j,avatarSizeBase:p,avatarSizeLG:y,avatarSizeSM:f,avatarFontSizeBase:S,avatarFontSizeLG:l,avatarFontSizeSM:b,borderRadius:C,borderRadiusLG:z,borderRadiusSM:s,lineWidth:d,lineType:E}=t,h=(c,u,v)=>({width:c,height:c,lineHeight:`${c-d*2}px`,borderRadius:"50%",[`&${o}-square`]:{borderRadius:v},[`${o}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${o}-icon`]:{fontSize:u,[`> ${r}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},de(t)),{position:"relative",display:"inline-block",overflow:"hidden",color:j,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${d}px ${E} transparent`,["&-image"]:{background:"transparent"},[`${i}-image-img`]:{display:"block"}}),h(p,S,C)),{["&-lg"]:Object.assign({},h(y,l,z)),["&-sm"]:Object.assign({},h(f,b,s)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},be=t=>{const{componentCls:i,avatarGroupBorderColor:o,avatarGroupSpace:r}=t;return{[`${i}-group`]:{display:"inline-flex",[`${i}`]:{borderColor:o},["> *:not(:first-child)"]:{marginInlineStart:r}}}},F=le("Avatar",t=>{const{colorTextLightSolid:i,controlHeight:o,controlHeightLG:r,controlHeightSM:n,fontSize:j,fontSizeLG:p,fontSizeXL:y,fontSizeHeading3:f,marginXS:S,colorBorderBg:l,colorTextPlaceholder:b}=t,C=ce(t,{avatarBg:b,avatarColor:i,avatarSizeBase:o,avatarSizeLG:r,avatarSizeSM:n,avatarFontSizeBase:Math.round((p+y)/2),avatarFontSizeLG:f,avatarFontSizeSM:j,avatarGroupSpace:-S,avatarGroupBorderColor:l});return[ve(C),be(C)]});var Ce=globalThis&&globalThis.__rest||function(t,i){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&i.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)i.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]]);return o};const je=(t,i)=>{const o=e.useContext(T),[r,n]=e.useState(1),[j,p]=e.useState(!1),[y,f]=e.useState(!0),S=e.useRef(null),l=e.useRef(null),b=ge(i,S),{getPrefixCls:C}=e.useContext(H),z=()=>{if(!l.current||!S.current)return;const m=l.current.offsetWidth,x=S.current.offsetWidth;if(m!==0&&x!==0){const{gap:O=4}=t;O*2<x&&n(x-O*2<m?(x-O*2)/m:1)}};e.useEffect(()=>{p(!0)},[]),e.useEffect(()=>{f(!0),n(1)},[t.src]),e.useEffect(()=>{z()},[t.gap]);const s=()=>{const{onError:m}=t;(m?m():void 0)!==!1&&f(!1)},{prefixCls:d,shape:E="circle",size:h="default",src:c,srcSet:u,icon:v,className:V,rootClassName:K,alt:X,draggable:q,children:B,crossOrigin:D}=t,w=Ce(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),g=h==="default"?o:h,U=Object.keys(typeof g=="object"?g||{}:{}).some(m=>["xs","sm","md","lg","xl","xxl"].includes(m)),I=se(U),J=e.useMemo(()=>{if(typeof g!="object")return{};const m=fe.find(O=>I[O]),x=g[m];return x?{width:x,height:x,lineHeight:`${x}px`,fontSize:v?x/2:18}:{}},[I,g]),$=C("avatar",d),[Q,Y]=F($),Z=P({[`${$}-lg`]:g==="large",[`${$}-sm`]:g==="small"}),N=e.isValidElement(c),ee=P($,Z,{[`${$}-${E}`]:!!E,[`${$}-image`]:N||c&&y,[`${$}-icon`]:!!v},V,K,Y),te=typeof g=="number"?{width:g,height:g,lineHeight:`${g}px`,fontSize:v?g/2:18}:{};let R;if(typeof c=="string"&&y)R=e.createElement("img",{src:c,draggable:q,srcSet:u,onError:s,alt:X,crossOrigin:D});else if(N)R=c;else if(v)R=v;else if(j||r!==1){const m=`scale(${r}) translateX(-50%)`,x={msTransform:m,WebkitTransform:m,transform:m},O=typeof g=="number"?{lineHeight:`${g}px`}:{};R=e.createElement(me,{onResize:z},e.createElement("span",{className:`${$}-string`,ref:l,style:Object.assign(Object.assign({},O),x)},B))}else R=e.createElement("span",{className:`${$}-string`,style:{opacity:0},ref:l},B);return delete w.onError,delete w.gap,Q(e.createElement("span",Object.assign({},w,{style:Object.assign(Object.assign(Object.assign({},te),J),w.style),className:ee,ref:b}),R))},ze=e.forwardRef(je),_=ze,$e=t=>{const{getPrefixCls:i,direction:o}=e.useContext(H),{prefixCls:r,className:n,rootClassName:j,maxCount:p,maxStyle:y,size:f}=t,S=i("avatar",r),l=`${S}-group`,[b,C]=F(S),z=P(l,{[`${l}-rtl`]:o==="rtl"},n,j,C),{children:s,maxPopoverPlacement:d="top",maxPopoverTrigger:E="hover"}=t,h=pe(s).map((u,v)=>ue(u,{key:`avatar-key-${v}`})),c=h.length;if(p&&p<c){const u=h.slice(0,p),v=h.slice(p,c);return u.push(e.createElement(he,{key:"avatar-popover-key",content:v,trigger:E,placement:d,overlayClassName:`${l}-popover`},e.createElement(_,{style:y},`+${c-p}`))),b(e.createElement(G,{size:f},e.createElement("div",{className:z,style:t.style},u)))}return b(e.createElement(G,{size:f},e.createElement("div",{className:z,style:t.style},h)))},Ee=$e,W=_;W.Group=Ee;const Oe=W,{Search:Re}=ne,{Meta:we}=L,{Text:k}=xe,{Option:M}=A,_e=()=>{const[t,i]=e.useState([]),[o,r]=e.useState(""),[n,j]=e.useState(1),[p,y]=e.useState(!1),[f,S]=e.useState("Time"),l=(s,d,E)=>{y(!0);const h=encodeURIComponent(s),c=`https://api.mirrorbeats.xyz/mirror/Mirror/search?page=${d}&keyword=${h}&sort=${E}`;re.get(c).then(u=>{console.log(u),i(u.data.data)}).catch(u=>{console.log(u)}).finally(()=>{y(!1)})},b=s=>{const d=s||"空投";r(d),l(d,n,f)},C=s=>{j(s),l(o||"空投",s,f)},z=s=>{S(s),l(o,n,s)};return a.jsxs("div",{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx(Re,{placeholder:"输入你想要查询的Mirror关键词",onSearch:b,enterButton:!0,style:{width:"70%",marginRight:"10px"}}),a.jsxs(A,{placeholder:"选择排序方式",defaultValue:f,style:{width:120},onChange:z,children:[a.jsx(M,{value:"Relevance",children:"Relevance"}),a.jsx(M,{value:"Time",children:"Time"})]}),a.jsx(ae,{current:n,onChange:C,total:50,style:{flex:"none"}})]}),p?a.jsx(ie,{size:"large",style:{display:"block",margin:"0 auto"}}):t.length>0?a.jsx(Se,{gutter:[16,16],children:t.map(s=>a.jsx(ye,{span:6,children:a.jsx("a",{href:s.link,target:"_blank",rel:"noreferrer",children:a.jsx(L,{style:{borderRadius:"15px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",transition:"0.3s",width:"100%",padding:"10px",marginBottom:"20px"},hoverable:!0,children:a.jsx(we,{title:a.jsx(k,{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"normal"},children:s.title}),description:a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx(k,{strong:!0,children:"作者: "}),s.nickname,a.jsx("br",{}),a.jsx(k,{strong:!0,children:"创建时间: "}),new Date(s.creat_time*1e3).toLocaleString()]}),a.jsx("div",{style:{marginLeft:"10px"},children:a.jsx(Oe,{src:s.avatar,size:64,onError:d=>{d.target.src="https://image.theblockbeats.info/icon/mirrorLogo.jpeg"}})})]})})},s.id)})}))}):a.jsx(oe,{description:"Nothing"})]})};export{_e as default};
