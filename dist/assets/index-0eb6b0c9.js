import{r as l,j as r}from"./index-aeda1e87.js";import"./FileSaver.min-b2a08254.js";import{a as K,C as se}from"./axios-057734f1.js";import{S as m}from"./index-c463ec7e.js";import{T as ne,a as ae}from"./index-e00a8a8b.js";import{B as J,E as oe}from"./EditOutlined-3f21ada2.js";import{L as ie}from"./index-06592163.js";import{S as de,n as U}from"./SyncOutlined-80c16cfc.js";import{m as $}from"./index-a00c1fcb.js";import{I as le,E as ce,a as pe}from"./Pagination-637f931d.js";import"./useFlexGapSupport-69780201.js";import"./PlusOutlined-74a5f9c7.js";import"./Sider-20598f97.js";import"./index-cd8267bc.js";import"./useNotification-4ae4ff01.js";import"./responsiveObserver-953ba023.js";async function M(g){try{let w=`https://voyager.online/api/contract/${g}/transfers?ps=50&p=1`;const k=await K.get(w);let f=k.data.items.map(u=>u.transfer_to);const x=k.data.lastPage;if(x>1)for(let u=2;u<=x;u++){const j=`https://voyager.online/api/contract/${g}/transfers?ps=50&p=${u}`;let y=(await K.get(j)).data.items.map(b=>b.transfer_to);f=f.concat(y)}return f=f.map(u=>u.toLowerCase()),f=[...new Set(f)],f}catch(w){return console.error(w),"Error"}}const{Content:ue}=ie;function Ce(){const[g,w]=l.useState([]),[k,f]=l.useState([]),[x,u]=l.useState(!1),[j,S]=l.useState(!1),[y,b]=l.useState(new Map),[B,_]=l.useState([]),[R,V]=l.useState(!1),[Q,q]=l.useState(0),[v,G]=l.useState(!1),I="0x04d0390b777b424e43839cd1e744799f3de6c176c7e32c1812a41dbd9c19db6a",T="0x045e7131d776dddc137e30bdd490b431c7144677e97bf9369f629ed8d3fb7dd6",C="0x07e2a13b40fc1119ec55e0bcf9428eedaa581ab3c924561ad4e955f95da63138",z="0x010884171baf1914edc28d7afb619b40a4051cfae78a094a55d230f19e944a28",D="0x04270219d365d6b017231b52e92b3fb5d7c8378b05e9abc97724537a80e93b0f",P="0x04c0a5193d58f74fbace4b74dcf65481e734ed1714121bdc571da345540efa05",L="0x05900cfa2b50d53b097cb305d54e249e31f24f881885aae5639b0cd6af4ed298",H="0x000023c72abdf49dffc85ae3ede714f2168ad384cc67d08524732acea90df325",N="0x017e9e62c04b50800d7c59454754fe31a2193c9c3c6c92c093f2ab0faadf8c87",A="0x030615bec9c1506bfac97d9dbd3c546307987d467a7f95d5533c2e861eb81f3f",O="0x00691fa7f66d63dc8c89ff4e77732fff5133f282e7dbd41813273692cc595516",F="0x0032ebb8e68553620b97b308684babf606d9556d5c0a652450c32e85f40d000d",W=()=>{G(!v)},X=()=>v?r.jsx(ce,{}):r.jsx(pe,{}),Y=async()=>{try{const e=[...g],t=[];for(let s of e)t.push(()=>new Promise(a=>{const n=(c(s.address,T)||c(s.address,I||c(s.address,C)))>0?"âœ…":"âŒ";s.jedi=n,a()})),t.push(()=>new Promise(a=>{const n=c(s.address,z)>0?"âœ…":"âŒ";s.myswap=n,a()})),t.push(()=>new Promise(a=>{const n=c(s.address,D)>0?"âœ…":"âŒ";s.avnu=n,a()})),t.push(()=>new Promise(a=>{const n=c(s.address,P)>0?"âœ…":"âŒ";s.zklend=n,a()})),t.push(()=>new Promise(a=>{const n=(c(s.address,H)||c(s.address,L)||c(s.address,N))>0?"âœ…":"âŒ";s._10k=n,a()})),t.push(()=>new Promise(a=>{const n=(c(s.address,F)||c(s.address,A)||c(s.address,O))>0?"âœ…":"âŒ";s.sith=n,a()}));await Promise.all(t.map(s=>s())),_([...e]),localStorage.setItem("stark_addresses",JSON.stringify(e))}catch(e){console.error(e)}finally{u(!1)}},Z=async()=>{if(!k.length){U.error({message:"é”™è¯¯",description:"è¯·å…ˆé€‰æ‹©è¦åˆ·æ–°çš„åœ°å€"},2);return}u(!0);try{const e=[...g],t=[];for(let s of k){const a=e.findIndex(n=>n.key===s);if(a!==-1){const n=e[a],h=new Map,o=await M(n.address);h.set(n.address,o),b(h),await new Promise(i=>{setTimeout(()=>{i()},200)}),t.push(()=>new Promise(i=>{const d=(p(o,I)||p(o,T)||p(o,C))>0?"âœ…":"âŒ";n.jedi=d,i()})),t.push(()=>new Promise(i=>{const d=p(o,z)>0?"âœ…":"âŒ";n.myswap=d,i()})),t.push(()=>new Promise(i=>{const d=p(o,D)>0?"âœ…":"âŒ";n.avnu=d,i()})),t.push(()=>new Promise(i=>{const d=p(o,P)>0?"âœ…":"âŒ";n.zklend=d,i()})),t.push(()=>new Promise(i=>{const d=(p(o,H)||p(o,L)||p(o,N))>0?"âœ…":"âŒ";n._10k=d,i()})),t.push(()=>new Promise(i=>{const d=(p(o,F)||p(o,A)||p(o,O))>0?"âœ…":"âŒ";n.sith=d,i()}))}}await Promise.all(t.map(s=>s())),_([...e]),localStorage.setItem("stark_addresses",JSON.stringify(e)),$.success("åˆ·æ–°æˆåŠŸ")}catch(e){U.error({message:"é”™è¯¯",description:e.message},2)}finally{u(!1),f([])}},c=(e,t)=>{t=t.toLowerCase();const s=y.get(e);return s==null?($.info("ç­‰å¾…æ•°æ®åŠ è½½å®Œæˆå†åˆ·æ–°"),"error"):s.reduce((n,h)=>h===t?n+1:n,0)},p=(e,t)=>(t=t.toLowerCase(),e.reduce((a,n)=>n===t?a+1:a,0));l.useEffect(()=>{const e=()=>{q(window.innerHeight-180)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),l.useEffect(()=>{S(!0);const e=localStorage.getItem("stark_addresses");e&&(w(JSON.parse(e)),_(JSON.parse(e))),(async()=>{const s=JSON.parse(e);if(!s)return;const a=new Map,n=[];for(const h of s){const o=h.address,i=M(o).then(d=>{a.set(o,d)}).catch(d=>{console.error(`Error fetching tasks for address ${o}:`,d)});n.push(i)}try{await Promise.all(n),S(!1),b(a)}catch(h){console.error("Error fetching task contracts:",h)}})()},[]),l.useEffect(()=>{!R&&g.length>0&&y.size>0&&(Y(),V(!0))},[g,y]);const ee={selectedRowKeys:k,onChange:e=>{f(e)}},[te,E]=l.useState(null),re=[{title:"#",key:"index",align:"center",render:(e,t,s)=>s+1,width:34.5},{title:"å¤‡æ³¨",dataIndex:"name",key:"name",align:"center",render:(e,t)=>t.key===te?r.jsx(le,{placeholder:"è¯·è¾“å…¥å¤‡æ³¨",defaultValue:e,onPressEnter:a=>{t.name=a.target.value,w([...g]),localStorage.setItem("stark_addresses",JSON.stringify(g)),E(null)}}):r.jsxs(r.Fragment,{children:[r.jsx(ae,{color:"blue",onClick:()=>E(t.key),children:e}),!e&&r.jsx(J,{shape:"circle",icon:r.jsx(oe,{}),size:"small",onClick:()=>E(t.key)})]}),width:70},{title:r.jsxs("span",{children:["é’±åŒ…åœ°å€",r.jsx("span",{onClick:W,style:{marginLeft:8,cursor:"pointer"},children:X()})]}),dataIndex:"address",key:"address",align:"center",className:"address",render:(e,t)=>v?"***":e===null?r.jsx(m,{}):e,width:200},{title:"æœ€åäº¤æ˜“",dataIndex:"stark_latest_tx_time",key:"stark_latest_tx_time",align:"center",render:(e,t)=>{let s="inherit";return e===null?r.jsx(m,{}):(e!=null&&e.includes("å¤©")&&parseInt(e)>7?s="red":s="#1677ff",r.jsx("a",{href:"https://starkscan.co/contract/"+t.address,target:"_blank",style:{color:s},children:e}))},width:60},{title:r.jsxs("a",{href:"https://defillama.com/chain/Starknet",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:["StarkNet Task List  [å‚è€ƒdefillama TVLæ•°æ®] ğŸŸ¡éƒ¨åˆ†Dexåªç»Ÿè®¡eth/usdc eth/usdt eth/daiäº¤æ˜“è®°å½•",r.jsx("br",{}),"ğŸ”´è¯·æ³¨æ„ï¼Œé€šè¿‡ç‚¹å‡»ä»»åŠ¡åˆ—è¡¨çš„è¶…é“¾æ¥ï¼Œæ‚¨å°†ç¦»å¼€æœ¬ç½‘é¡µã€‚æˆ‘ä»¬å»ºè®®æ‚¨åœ¨è®¿é—®è¿™äº›å¤–éƒ¨é“¾æ¥ä¹‹å‰ï¼Œä»”ç»†é˜…è¯»å…¶ç½‘ç«™çš„éšç§æ”¿ç­–å’Œä½¿ç”¨æ¡æ¬¾ã€‚æˆ‘ä»¬ä¸èƒ½æ§åˆ¶è¿™äº›ç½‘ç«™çš„å†…å®¹å’Œå®‰å…¨æ€§ï¼Œå¹¶ä¸”ä¸å¯¹å…¶é€ æˆçš„ä»»ä½•æŸå¤±æˆ–æŸå®³è´Ÿè´£ã€‚ åœ¨è®¿é—®å¤–éƒ¨é“¾æ¥æ—¶ï¼Œæ‚¨éœ€è¦è‡ªè¡Œè¯„ä¼°æ½œåœ¨çš„é£é™©ã€‚è¿™äº›é“¾æ¥ä¸æ„æˆå¯¹æ‰€é“¾æ¥ç½‘ç«™å†…å®¹çš„è®¤å¯æˆ–æ”¯æŒã€‚æˆ‘ä»¬ä¸å¯¹è¿™äº›å¤–éƒ¨é“¾æ¥çš„å‡†ç¡®æ€§ã€å†…å®¹ã€æœåŠ¡è´¨é‡æˆ–å®‰å…¨æ€§åšä»»ä½•æ‰¿è¯ºã€‚ æˆ‘ä»¬å»ºè®®æ‚¨ä¿æŒæ‚¨çš„è®¡ç®—æœºå’Œè®¾å¤‡çš„å®‰å…¨æ€§ï¼Œä½¿ç”¨é˜²ç—…æ¯’è½¯ä»¶å’Œé˜²ç«å¢™ï¼Œå¹¶æ—¶åˆ»æ³¨æ„æ½œåœ¨çš„ç½‘ç»œé’“é±¼æˆ–æ¶æ„è½¯ä»¶æ”»å‡»ã€‚ é€šè¿‡ç»§ç»­ä½¿ç”¨æœ¬ç½‘é¡µå¹¶è®¿é—®å…¶ä¸­çš„è¶…é“¾æ¥ï¼Œæ‚¨åŒæ„æ‰¿æ‹…è®¿é—®å¤–éƒ¨é“¾æ¥å¯èƒ½å¸¦æ¥çš„ä¸€åˆ‡é£é™©ã€‚æˆ‘ä»¬ä¸å¯¹ç”±æ­¤å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³è´Ÿè´£ï¼"]}),key:"starkNet_group",className:"starkNet",children:[{title:r.jsx("a",{href:"https://app.jediswap.xyz/#/swap",target:"_blank",rel:"noopener noreferrer",children:"JediSwap"}),dataIndex:"jedi",key:"jedi",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t.jedi===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:r.jsx("a",{href:"https://www.myswap.xyz/",target:"_blank",rel:"noopener noreferrer",children:"mySwap"}),dataIndex:"myswap",key:"myswap",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t.myswap===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:r.jsx("a",{href:"https://10kswap.com/swap",target:"_blank",rel:"noopener noreferrer",children:"10KSwap"}),dataIndex:"_10k",key:"_10k",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t._10k===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:r.jsx("a",{href:"https://app.avnu.fi/en",target:"_blank",rel:"noopener noreferrer",children:"AVNU"}),dataIndex:"avnu",key:"avnu",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t.avnu===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:r.jsx("a",{href:"https://app.zklend.com/markets",target:"_blank",rel:"noopener noreferrer",children:"zkLend"}),dataIndex:"zklend",key:"zklend",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t.zklend===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:r.jsx("a",{href:"https://app.sithswap.com/swap/",target:"_blank",rel:"noopener noreferrer",children:"SithSwap"}),dataIndex:"sith",key:"sith",align:"center",filters:[{text:"æœªå®Œæˆ",value:"âŒ"},{text:"å·²å®Œæˆ",value:"âœ…"}],onFilter:(e,t)=>t.sith===e,render:(e,t)=>r.jsx("span",{style:{color:e===0?"red":"inherit"},children:e===null?r.jsx(m,{}):e}),width:60},{title:"NFT",children:[{title:r.jsx("a",{href:"https://mail.dmail.ai/presale/394965",target:"_blank",rel:"noopener noreferrer",children:"Dmail"}),align:"center",render:()=>"/",width:60},{title:r.jsx("a",{href:"https://app.starknet.id/identities",target:"_blank",rel:"noopener noreferrer",children:"StarknetId"}),align:"center",render:()=>"/",width:60},{title:r.jsx("a",{href:"https://starkverse.art/",target:"_blank",rel:"noopener noreferrer",children:"starkverse"}),align:"center",render:()=>"/",width:60}]},{title:"è¿›åº¦",dataIndex:"progress",key:"progress",align:"center",sorter:(e,t)=>e.progress-t.progress,render:(e,t)=>{const s=["jedi","myswap","avnu","zklend","_10k","sith"],n=s.reduce((o,i)=>t[i]==="âœ…"?o+1:o,0)/s.length*100;t.progress=n;const h=`rgba(240, 121, 78, ${n/100})`;return{children:r.jsx("span",{children:e===null?r.jsx(m,{}):`${n.toFixed(2)}%`}),props:{style:{background:h}}}},width:60}]}];return r.jsx("div",{children:r.jsx(ue,{children:r.jsx(m,{spinning:j,children:r.jsx(ne,{rowSelection:ee,dataSource:B,pagination:!1,bordered:!0,style:{marginBottom:"0px",zIndex:2},size:"small",columns:re,scroll:{y:Q},footer:()=>r.jsx(se,{children:r.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:r.jsx(J,{type:"primary",onClick:Z,loading:x,size:"large",style:{width:"20%"},icon:r.jsx(de,{}),children:x?"æ­£åœ¨åˆ·æ–°":"åˆ·æ–°é€‰ä¸­åœ°å€"})})})})})})})}export{Ce as default};
